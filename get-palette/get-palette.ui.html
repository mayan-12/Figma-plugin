<html><head><style>
@import url(https://fonts.googleapis.com/css2?family=Poppins&display=swap);body{margin:0;padding:0;font-family:Poppins}.text-box{padding:30px 60px;text-align:center}.range-div,.text-box{display:flex;justify-content:center;align-items:center}.range{width:264px;height:6px;background-color:#f3f4f5;-webkit-appearance:none;outline:0;border-radius:3px}.range::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#18a0fb;position:relative}#currentvalue{display:flex;align-items:center;margin-top:4px;color:#18a0fb}.button-container{padding:20px;display:flex;justify-content:space-between;align-items:center}#cancel{border:1px solid #757575;box-sizing:border-box;border-radius:2px;line-height:18px;color:#757575}#cancel,#create{width:109px;height:30px;display:flex;justify-content:center;align-items:center;font-size:12px;text-align:center;cursor:pointer}#create{background:#18a0fb;border-radius:2px;color:#fff}
</style></head><body><div class="text-box"> How many colors do you want in your palette?
</div><div class="range-div"> <span style="margin-right:12px;">1</span> <input id="slider" class="range" type="range" name value="5" min="1" max="10"> <span style="margin-left:12px;">10</span>
</div><div id="currentValue">5</div><div class="button-container"> <div id="cancel">Cancel</div> <div id="create">Extract!</div>
</div><script>
var parcelRequire=function(e,t,n,r){var i,o="function"==typeof parcelRequire&&parcelRequire,s="function"==typeof require&&require;function u(n,r){if(!t[n]){if(!e[n]){var i="function"==typeof parcelRequire&&parcelRequire;if(!r&&i)return i(n,!0);if(o)return o(n,!0);if(s&&"string"==typeof n)return s(n);var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}f.resolve=function(t){return e[n][1][t]||t},f.cache={};var c=t[n]=new u.Module(n);e[n][0].call(c.exports,f,c,c.exports,this)}return t[n].exports;function f(e){return u(f.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=t,u.parent=o,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]};for(var a=0;a<n.length;a++)try{u(n[a])}catch(e){i||(i=e)}if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}if(parcelRequire=u,i)throw i;return u}({FRpO:[function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}t.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var a=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=f(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,function(e){console&&console.warn&&console.warn(e)}(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)o(a,this,t);else{var c=a.length,f=g(a,c);for(n=0;n<c;++n)o(f[n],this,t)}return!0},u.prototype.on=u.prototype.addListener=function(e,t){return l(this,e,t,!1)},u.prototype.prependListener=function(e,t){return l(this,e,t,!0)},u.prototype.once=function(e,t){return c(t),this.on(e,v(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,v(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,o,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return p(this,e,!0)},u.prototype.rawListeners=function(e){return p(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},u.prototype.listenerCount=d,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],VgoD:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.main=n.ui=void 0;var r=e("events");function i(e){const t=new r.EventEmitter,n=e=>{e&&e.event&&t.emit(e.event,e.data)};return e?window.onmessage=e=>n(e.data.pluginMessage):figma.ui.onmessage=e=>n(e),t.send=function(t,n){if("string"!=typeof t)throw new Error("Expected first argument to be an event name string");const r={event:t,data:n};e?window.parent.postMessage({pluginMessage:r},"*"):figma.ui.postMessage(r)},t.async=function(e){return new Promise(t=>{this.once(e,t)})},t}const o="undefined"==typeof figma,s=o?i(!0):void 0;n.ui=s;const u=o?void 0:i();n.main=u},{events:"FRpO"}],vzw6:[function(e,t,n){"use strict";let r,i;function o(){return r&&i||(r=document.createElement("canvas"),i=r.getContext("2d")),{canvas:r,context:i}}async function s(e){return new Promise((t,n)=>{e.toBlob(e=>{const r=new window.FileReader;r.onload=()=>t(new Uint8Array(r.result)),r.onerror=()=>n(new Error("Could not read from blob")),r.readAsArrayBuffer(e)})})}Object.defineProperty(n,"__esModule",{value:!0}),n.getPixels=function(e,t={}){const{maxDimension:n=1/0}=t;let{width:r,height:i}=e;if(r>n||i>n){const e=r/i;r>=i?(r=n,i=Math.floor(r/e)):(i=n,r=Math.floor(i*e))}const{canvas:s,context:u}=o();return s.width=r,s.height=i,u.clearRect(0,0,s.width,s.height),u.drawImage(e,0,0,r,i),u.getImageData(0,0,r,i).data},n.encodeImageData=async function(e){const{canvas:t,context:n}=o();return t.width=e.width,t.height=e.height,n.clearRect(0,0,t.width,t.height),n.putImageData(e,0,0),s(t)},n.encodeImage=async function(e){const{canvas:t,context:n}=o();return t.width=e.width,t.height=e.height,n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0),s(t)},n.encodeCanvas=s,n.decodeImage=async function(e){const t=new window.Blob([e]),n=URL.createObjectURL(t),r=await new Promise((e,t)=>{const r=new window.Image;r.onload=()=>e(r),r.onerror=()=>t(new Error("Could not decode bytes due to an error")),r.src=n});return window.URL.revokeObjectURL(t),r}},{}],JsMi:[function(e,t,n){if(!r)var r={map:function(e,t){var n={};return t?e.map((function(e,r){return n.index=r,t.call(n,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,i){return n.index=i,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?r.map(e,t):e)}};var i=function(){function e(e,t,n){return(e<<10)+(t<<5)+n}function t(e){var t=[],n=!1;function r(){t.sort(e),n=!0}return{push:function(e){t.push(e),n=!1},peek:function(e){return n||r(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return n||r(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return n||r(),t}}}function n(e,t,n,r,i,o,s){this.r1=e,this.r2=t,this.g1=n,this.g2=r,this.b1=i,this.b2=o,this.histo=s}function i(){this.vboxes=new t((function(e,t){return r.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function o(t,n){if(n.count()){var i=n.r2-n.r1+1,o=n.g2-n.g1+1,s=r.max([i,o,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var u,a,c,f,l=0,h=[],v=[];if(s==i)for(u=n.r1;u<=n.r2;u++){for(f=0,a=n.g1;a<=n.g2;a++)for(c=n.b1;c<=n.b2;c++)f+=t[e(u,a,c)]||0;h[u]=l+=f}else if(s==o)for(u=n.g1;u<=n.g2;u++){for(f=0,a=n.r1;a<=n.r2;a++)for(c=n.b1;c<=n.b2;c++)f+=t[e(a,u,c)]||0;h[u]=l+=f}else for(u=n.b1;u<=n.b2;u++){for(f=0,a=n.r1;a<=n.r2;a++)for(c=n.g1;c<=n.g2;c++)f+=t[e(a,c,u)]||0;h[u]=l+=f}return h.forEach((function(e,t){v[t]=l-e})),function(e){var t,r,i,o,s,a=e+"1",c=e+"2",f=0;for(u=n[a];u<=n[c];u++)if(h[u]>l/2){for(i=n.copy(),o=n.copy(),s=(t=u-n[a])<=(r=n[c]-u)?Math.min(n[c]-1,~~(u+r/2)):Math.max(n[a],~~(u-1-t/2));!h[s];)s++;for(f=v[s];!f&&h[s-1];)f=v[--s];return i[c]=s,o[a]=i[c]+1,[i,o]}}(s==i?"r":s==o?"g":"b")}}return n.prototype={volume:function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var n=this.histo;if(!this._count_set||t){var r,i,o,s=0;for(r=this.r1;r<=this.r2;r++)for(i=this.g1;i<=this.g2;i++)for(o=this.b1;o<=this.b2;o++)s+=n[e(r,i,o)]||0;this._count=s,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var r,i,o,s,u=0,a=0,c=0,f=0;for(i=this.r1;i<=this.r2;i++)for(o=this.g1;o<=this.g2;o++)for(s=this.b1;s<=this.b2;s++)u+=r=n[e(i,o,s)]||0,a+=r*(i+.5)*8,c+=r*(o+.5)*8,f+=r*(s+.5)*8;this._avg=u?[~~(a/u),~~(c/u),~~(f/u)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=this.r1&&t<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,i=this.vboxes,o=0;o<i.size();o++)((n=Math.sqrt(Math.pow(e[0]-i.peek(o).color[0],2)+Math.pow(e[1]-i.peek(o).color[1],2)+Math.pow(e[2]-i.peek(o).color[2],2)))<t||void 0===t)&&(t=n,r=i.peek(o).color);return r},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return r.naturalOrder(r.sum(e.color),r.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,i=e[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(s,u){if(!s.length||u<2||u>256)return!1;var a=function(t){var n,r=new Array(32768);return t.forEach((function(t){n=e(t[0]>>3,t[1]>>3,t[2]>>3),r[n]=(r[n]||0)+1})),r}(s);a.forEach((function(){}));var c=function(e,t){var r,i,o,s=1e6,u=0,a=1e6,c=0,f=1e6,l=0;return e.forEach((function(e){(r=e[0]>>3)<s?s=r:r>u&&(u=r),(i=e[1]>>3)<a?a=i:i>c&&(c=i),(o=e[2]>>3)<f?f=o:o>l&&(l=o)})),new n(s,u,a,c,f,l,t)}(s,a),f=new t((function(e,t){return r.naturalOrder(e.count(),t.count())}));function l(e,t){for(var n,r=1,i=0;i<1e3;)if((n=e.pop()).count()){var s=o(a,n),u=s[0],c=s[1];if(!u)return;if(e.push(u),c&&(e.push(c),r++),r>=t)return;if(i++>1e3)return}else e.push(n),i++}f.push(c),l(f,.75*u);for(var h=new t((function(e,t){return r.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));f.size();)h.push(f.pop());l(h,u-h.size());for(var v=new i;h.size();)v.push(h.pop());return v}}}();t.exports=i.quantize},{}],gfqO:[function(e,t,n){var r=e("quantize");function i(e,t){return e[t+3]>=127}function o(e,t,n,o){if(t="number"==typeof t?0|t:5,o="function"==typeof o?o:i,(n="number"==typeof n?0|n:10)<=0)throw new Error("quality must be > 0");for(var s=[],u=4*n,a=0,c=e.length;a<c;a+=u){var f=e[a+0],l=e[a+1],h=e[a+2];o(e,a,e)&&s.push([f,l,h])}var v=r(s,Math.max(2,t)).vboxes;return v?v.map((function(e){return e})).slice(0,t):[]}t.exports=function(e,t,n,r){return o(e,t,n,r).map((function(e){return e.color}))},t.exports.bins=function(e,t,n,r){var i=o(e,t,n,r),s=(i=i.map((function(e){return{color:e.color,size:e.vbox.count()*e.vbox.volume(),amount:0}}))).reduce((function(e,t){return e+t.size}),0);return i.forEach((function(e){e.amount=e.size/s})),i}},{quantize:"JsMi"}],OAJQ:[function(e,t,n){"use strict";var r=e("figma-plugin-palette/util/io"),i=e("figma-plugin-palette/util/image"),o=function(e){return e&&e.__esModule?e:{default:e}}(e("get-rgba-palette"));const s=async e=>{r.ui.send("clicked",{extract:!0,count:e}),r.ui.send("loaded"),r.ui.on("extract-palette",async({id:e,bytes:t,count:n=5})=>{const s=await(0,i.decodeImage)(t),u=(0,i.getPixels)(s,{maxDimension:1024}),a=(0,o.default)(u,n);r.ui.send("palette",{id:e,palette:a})})};document.getElementById("create").onclick=()=>{const e=document.getElementById("slider"),t=parseInt(e.value,10);s(t)},document.getElementById("cancel").onclick=()=>{(async()=>{r.ui.send("clicked",{extract:!1})})()};const u=document.getElementById("slider");function a(e){document.getElementById("currentValue").innerHTML=e.target.value;const t=u.clientWidth*(u.value/u.max)+17;document.getElementById("currentValue").style.marginLeft=t}document.getElementById("slider").addEventListener("change",a),document.getElementById("slider").addEventListener("input",a),window.onload=function(){const e=u.clientWidth*(u.value/u.max)+17;document.getElementById("currentValue").style.marginLeft=e}()},{"figma-plugin-palette/util/io":"VgoD","figma-plugin-palette/util/image":"vzw6","get-rgba-palette":"gfqO"}]},{},["OAJQ"]);
</script></body></html>